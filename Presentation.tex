%% LaTeX Beamer presentation template (requires beamer package)
%% see http://latex-beamer.sourceforge.net/
%% idea contributed by H. Turgut Uyar
%% template based on a template by Till Tantau
%% this template is still evolving - it might differ in future releases!

\documentclass[cp1251]{beamer}

\mode<presentation>
{
\usetheme{Darmstadt}
\setbeamercovered{transparent}
} 

\usepackage[english,russian]{babel}
\usepackage{pgf}
\usepackage{tikz}
\usepackage{multicol}
\usepackage{listings}
\lstloadlanguages{XML,Java}
\lstset{language=Java,
		extendedchars=true,
		escapechar=|,
		frame=tb,
		commentstyle=\itshape,
		stringstyle=\bfseries,
		basicstyle=\ttfamily\scriptsize,
		breaklines=true}


\title{Реализация алгоритма распределенной блокировки на основе БД Cassandra}

\author{Денис Мухаметьянов}

\date{9 июня 2015}

\begin{document}

\begin{frame}
\titlepage
\end{frame}

\section{Задача о распределенной блокировке}

\begin{frame}[fragile]
	\begin{block}{Google Chubby}
		\begin{itemize}
			\pause
			\item Подробно описанная технология
			\pause
			\item Реализация закрыта
			\pause
		\end{itemize}
	\end{block}

	\begin{block}{Apache ZooKeeper}
		\begin{itemize}
			\pause
			\item Открытый исходный код
			\pause
			\item Нет готового клиента для C\#
			\pause
		\end{itemize}
	\end{block}

	\begin{block}{}
		Нужно собственное решение
	\end{block}
\end{frame}

\section{Старый алгоритм}

\begin{frame}[fragile]
	\begin{block}{Старый алгоритм}
	\pause
		\begin{itemize}
			\item Использует особенности хранения разреженной таблицы в Cassandra
			\pause
			\item Корректно решает поставленную задачу
		\end{itemize}
	\end{block}
\end{frame}

\begin{frame}[fragile]
	\begin{block}{Недостатки}
	\pause
		\begin{itemize}
			\item Неравномерное распределение блокировки между потоками
			\pause
			\item Большое время захвата блокировки при конкурентности
		\end{itemize}
	\end{block}
\end{frame}

\section{Новый алгоритм}

\begin{frame}[fragile]
	\begin{block}{Новый алгоритм}
	\pause
		\begin{itemize}
			\item Использует особенности хранения разреженной таблицы в Cassandra
			\pause
			\item Выстраивает потоки в очередь в строке и распределяет блокировку между потоками в порядке этой очереди
			\pause
			\item Корректно решает поставленную задачу
		\end{itemize}
	\end{block}
\end{frame}

\begin{frame}[fragile]
	\begin{block}{}
		\begin{itemize}
			\item Алгоритм реализован на C\#
			\pause
			\item Проведено модульное и нагрузочное тестирование
			\pause
			\item Проведено сравнение производительности со старым алгоритмом
		\end{itemize}
	\end{block}
\end{frame}

\begin{frame}[fragile]
	\begin{figure}[h!]
	  \caption{Моменты взятия блокировок старым алгоритмом}
	  \centering
	    \includegraphics[height=7cm]{5_old.png}
	\end{figure}
\end{frame}

\begin{frame}[fragile]
	\begin{figure}[h!]
	  \caption{Моменты взятия блокировок новым алгоритмом}
	  \centering
	    \includegraphics[height=7cm]{5_new.png}
	\end{figure}
\end{frame}

\begin{frame}[fragile]
	\begin{figure}[h!]
	  \caption{Время взятия блокировки}
	  \centering
	    \includegraphics[height=7cm]{queue_like.png}
	\end{figure}
\end{frame}

\section{Планы на будущее}

\begin{frame}[fragile]
	\begin{block}{Планы на будущее}
		\begin{itemize}
			\pause
			\item Промышленное использование
			\pause
			\item Снижение среднего времени ожидания блокировки
		\end{itemize}
	\end{block}
\end{frame}
\end{document}